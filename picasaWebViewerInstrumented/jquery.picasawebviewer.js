/* automatically generated by JSCoverage - do not edit */
if (! top._$jscoverage) {
  top._$jscoverage = {};
}
var _$jscoverage = top._$jscoverage;
if (! _$jscoverage['jquery.picasawebviewer.js']) {
  _$jscoverage['jquery.picasawebviewer.js'] = [];
  _$jscoverage['jquery.picasawebviewer.js'][14] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][15] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][18] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][26] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][28] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][29] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][32] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][34] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][36] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][37] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][40] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][45] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][48] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][49] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][52] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][56] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][60] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][61] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][73] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][75] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][79] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][81] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][85] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][88] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][89] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][90] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][91] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][92] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][93] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][96] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][99] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][100] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][103] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][104] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][105] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][107] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][110] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][111] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][113] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][114] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][120] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][124] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][127] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][128] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][130] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][131] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][132] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][134] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][136] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][137] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][140] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][141] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][142] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][143] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][145] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][148] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][149] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][150] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][151] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][152] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][153] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][154] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][157] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][160] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][161] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][162] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][163] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][165] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][168] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][169] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][170] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][172] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][173] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][179] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][188] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][191] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][192] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][193] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][199] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][212] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][215] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][216] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][218] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][219] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][220] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][221] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][222] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][223] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][226] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][232] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][233] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][236] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][237] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][240] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][241] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][244] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][245] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][246] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][247] = 0;
  _$jscoverage['jquery.picasawebviewer.js'][248] = 0;
}
_$jscoverage['jquery.picasawebviewer.js'][14]++;
(function ($) {
  _$jscoverage['jquery.picasawebviewer.js'][15]++;
  var tabs, gallery, repository, picasaWebViewer = $.picasaWebViewer = {};
  _$jscoverage['jquery.picasawebviewer.js'][18]++;
  picasaWebViewer.defaultOptions = {urlFormat: "http://picasaweb.google.com/data/feed/api/user/{0}?alt=json-in-script", albumTitleMaxLength: 15, defaultDialogWidth: 600, defaultDialogHeight: 400, userName: null};
  _$jscoverage['jquery.picasawebviewer.js'][26]++;
  picasaWebViewer.options = null;
  _$jscoverage['jquery.picasawebviewer.js'][28]++;
  picasaWebViewer.overrideOptions = (function (options) {
  _$jscoverage['jquery.picasawebviewer.js'][29]++;
  picasaWebViewer.options = $.extend({}, picasaWebViewer.defaultOptions, options);
});
  _$jscoverage['jquery.picasawebviewer.js'][32]++;
  picasaWebViewer.repository = {getAlbums: (function (callback) {
  _$jscoverage['jquery.picasawebviewer.js'][34]++;
  console.group("getAlbums");
  _$jscoverage['jquery.picasawebviewer.js'][36]++;
  var updatedUrl = picasaWebViewer.options.urlFormat.replace("{0}", picasaWebViewer.options.userName);
  _$jscoverage['jquery.picasawebviewer.js'][37]++;
  $.ajax({url: updatedUrl, success: (function (data) {
  _$jscoverage['jquery.picasawebviewer.js'][40]++;
  callback(data.feed.entry);
}), dataType: "jsonp"});
  _$jscoverage['jquery.picasawebviewer.js'][45]++;
  console.groupEnd("getAlbums");
}), getPhotos: (function (url, callback) {
  _$jscoverage['jquery.picasawebviewer.js'][48]++;
  console.group("getPhotos");
  _$jscoverage['jquery.picasawebviewer.js'][49]++;
  $.ajax({url: url, success: (function (data) {
  _$jscoverage['jquery.picasawebviewer.js'][52]++;
  callback(data.feed.entry);
}), dataType: "jsonp"});
  _$jscoverage['jquery.picasawebviewer.js'][56]++;
  console.groupEnd("getPhotos");
})};
  _$jscoverage['jquery.picasawebviewer.js'][60]++;
  picasaWebViewer.scaffoldGallery = (function (element) {
  _$jscoverage['jquery.picasawebviewer.js'][61]++;
  var html = "<div class='demo ui-widget ui-helper-clearfix'><div id='tabs'><ul><li><a href='#tabs-0'>Albums</a></li></ul><div id='tabs-0'><ul id='gallery' class='gallery ui-helper-reset ui-helper-clearfix' /></div></div></div>";
  _$jscoverage['jquery.picasawebviewer.js'][73]++;
  tabs = $(html).appendTo(element).find("#tabs").tabs({add: (function (e, ui) {
  _$jscoverage['jquery.picasawebviewer.js'][75]++;
  $(ui.tab).parents("li:first").append("<span style='float: right;' class='ui-icon ui-icon-close' title='Close Tab'></span>").find(".ui-icon-close").click((function () {
  _$jscoverage['jquery.picasawebviewer.js'][79]++;
  tabs.tabs("remove", $("li", tabs).index($(this).parents("li:first")[0]));
}));
  _$jscoverage['jquery.picasawebviewer.js'][81]++;
  tabs.tabs("select", "#" + ui.panel.id);
})});
  _$jscoverage['jquery.picasawebviewer.js'][85]++;
  gallery = $("#gallery");
});
  _$jscoverage['jquery.picasawebviewer.js'][88]++;
  picasaWebViewer.getAndDisplayAlbums = (function (element) {
  _$jscoverage['jquery.picasawebviewer.js'][89]++;
  console.group("getAndDsiplayAlbums");
  _$jscoverage['jquery.picasawebviewer.js'][90]++;
  picasaWebViewer.scaffoldGallery(element);
  _$jscoverage['jquery.picasawebviewer.js'][91]++;
  repository.getAlbums((function (albums) {
  _$jscoverage['jquery.picasawebviewer.js'][92]++;
  if (albums) {
    _$jscoverage['jquery.picasawebviewer.js'][93]++;
    picasaWebViewer.displayAlbums(albums);
  }
}));
  _$jscoverage['jquery.picasawebviewer.js'][96]++;
  console.groupEnd("getAndDsiplayAlbums");
});
  _$jscoverage['jquery.picasawebviewer.js'][99]++;
  picasaWebViewer.truncateTitle = (function (title) {
  _$jscoverage['jquery.picasawebviewer.js'][100]++;
  return picasaWebViewer.truncate(title, picasaWebViewer.options.albumTitleMaxLength);
});
  _$jscoverage['jquery.picasawebviewer.js'][103]++;
  picasaWebViewer.truncate = (function (source, maximumLength) {
  _$jscoverage['jquery.picasawebviewer.js'][104]++;
  if (source && source.length > maximumLength) {
    _$jscoverage['jquery.picasawebviewer.js'][105]++;
    source = source.substring(0, maximumLength - 3) + "...";
  }
  _$jscoverage['jquery.picasawebviewer.js'][107]++;
  return source;
});
  _$jscoverage['jquery.picasawebviewer.js'][110]++;
  picasaWebViewer.displayAlbum = (function (album) {
  _$jscoverage['jquery.picasawebviewer.js'][111]++;
  console.group("displayAlbum");
  _$jscoverage['jquery.picasawebviewer.js'][113]++;
  var title = picasaWebViewer.truncateTitle(album.title.$t);
  _$jscoverage['jquery.picasawebviewer.js'][114]++;
  var html = "<li class='ui-widget-content ui-corner-tr'>" + "<h5 class='ui-widget-header'>" + title + "</h5>" + "<a><img src='" + album.media$group.media$thumbnail[0].url + "' alt='" + album.title.$t + "' /></a>" + "</li>";
  _$jscoverage['jquery.picasawebviewer.js'][120]++;
  $(html).appendTo(gallery).find("a").attr("href", album.link[0].href).click($.picasaWebViewer.clickAlbum);
  _$jscoverage['jquery.picasawebviewer.js'][124]++;
  console.groupEnd("displayAlbum");
});
  _$jscoverage['jquery.picasawebviewer.js'][127]++;
  picasaWebViewer.clickAlbum = (function (event) {
  _$jscoverage['jquery.picasawebviewer.js'][128]++;
  console.group("clickAlbum");
  _$jscoverage['jquery.picasawebviewer.js'][130]++;
  var newTabIndex = tabs.tabs("length");
  _$jscoverage['jquery.picasawebviewer.js'][131]++;
  tabs.tabs("add", "#tabs-" + newTabIndex, $(this).find("img").attr("alt"), newTabIndex);
  _$jscoverage['jquery.picasawebviewer.js'][132]++;
  var newTab = $("#tabs-" + newTabIndex);
  _$jscoverage['jquery.picasawebviewer.js'][134]++;
  picasaWebViewer.getAndDisplayPhotos(this.href, newTab);
  _$jscoverage['jquery.picasawebviewer.js'][136]++;
  console.groupEnd("clickAlbum");
  _$jscoverage['jquery.picasawebviewer.js'][137]++;
  return false;
});
  _$jscoverage['jquery.picasawebviewer.js'][140]++;
  picasaWebViewer.displayAlbums = (function (albums) {
  _$jscoverage['jquery.picasawebviewer.js'][141]++;
  console.group("displayAlbums");
  _$jscoverage['jquery.picasawebviewer.js'][142]++;
  $.each(albums, (function () {
  _$jscoverage['jquery.picasawebviewer.js'][143]++;
  picasaWebViewer.displayAlbum(this);
}));
  _$jscoverage['jquery.picasawebviewer.js'][145]++;
  console.groupEnd("displayAlbums");
});
  _$jscoverage['jquery.picasawebviewer.js'][148]++;
  picasaWebViewer.getAndDisplayPhotos = (function (url, tab) {
  _$jscoverage['jquery.picasawebviewer.js'][149]++;
  console.group("getAndDisplayPhotos");
  _$jscoverage['jquery.picasawebviewer.js'][150]++;
  var photoGalleryId = "photos-" + tab.attr("id");
  _$jscoverage['jquery.picasawebviewer.js'][151]++;
  var photoGallery = $("<ul id='" + photoGalleryId + "' class='gallery ui-helper-reset ui-helper-clearfix' />").appendTo(tab);
  _$jscoverage['jquery.picasawebviewer.js'][152]++;
  repository.getPhotos(url, (function (photos) {
  _$jscoverage['jquery.picasawebviewer.js'][153]++;
  if (photos) {
    _$jscoverage['jquery.picasawebviewer.js'][154]++;
    picasaWebViewer.displayPhotos(photos, photoGallery);
  }
}));
  _$jscoverage['jquery.picasawebviewer.js'][157]++;
  console.groupEnd("getAndDisplayPhotos");
});
  _$jscoverage['jquery.picasawebviewer.js'][160]++;
  picasaWebViewer.displayPhotos = (function (photos, tabGallery) {
  _$jscoverage['jquery.picasawebviewer.js'][161]++;
  console.group("displayPhotos");
  _$jscoverage['jquery.picasawebviewer.js'][162]++;
  $.each(photos, (function () {
  _$jscoverage['jquery.picasawebviewer.js'][163]++;
  picasaWebViewer.displayPhoto(this, tabGallery);
}));
  _$jscoverage['jquery.picasawebviewer.js'][165]++;
  console.groupEnd("displayPhotos");
});
  _$jscoverage['jquery.picasawebviewer.js'][168]++;
  picasaWebViewer.displayPhoto = (function (photo, tabGallery) {
  _$jscoverage['jquery.picasawebviewer.js'][169]++;
  console.group("displayPhoto");
  _$jscoverage['jquery.picasawebviewer.js'][170]++;
  var group = photo.media$group;
  _$jscoverage['jquery.picasawebviewer.js'][172]++;
  var title = picasaWebViewer.truncateTitle(group.media$title.$t);
  _$jscoverage['jquery.picasawebviewer.js'][173]++;
  var html = "<li class='ui-widget-content ui-corner-tr'>" + "<h5 class='ui-widget-header'>" + title + "</h5>" + "<img src='" + group.media$thumbnail[1].url + "' alt='" + group.media$title.$t + "' />" + "</li>";
  _$jscoverage['jquery.picasawebviewer.js'][179]++;
  $(html).data("metadata", {url: photo.content.src, width: photo.gphoto$width.$t, height: photo.gphoto$height.$t, title: group.media$title.$t}).appendTo(tabGallery).click($.picasaWebViewer.clickPhoto);
  _$jscoverage['jquery.picasawebviewer.js'][188]++;
  console.groupEnd("displayPhoto");
});
  _$jscoverage['jquery.picasawebviewer.js'][191]++;
  picasaWebViewer.clickPhoto = (function (event) {
  _$jscoverage['jquery.picasawebviewer.js'][192]++;
  var metadata = $(this).closest("li").data("metadata");
  _$jscoverage['jquery.picasawebviewer.js'][193]++;
  var scaledSize = picasaWebViewer.scaleSize({maximumWidth: $.picasaWebViewer.options.defaultDialogWidth, maximumHeight: $.picasaWebViewer.options.defaultDialogHeight, currentWidth: metadata.width, currentHeight: metadata.height});
  _$jscoverage['jquery.picasawebviewer.js'][199]++;
  $("<img />").attr({"src": metadata.url, "width": scaledSize.width, "height": scaledSize.height}).dialog({bgiframe: true, autoOpen: false, width: scaledSize.width, height: scaledSize.height + 20, modal: true, title: metadata.title}).dialog("open");
  _$jscoverage['jquery.picasawebviewer.js'][212]++;
  return false;
});
  _$jscoverage['jquery.picasawebviewer.js'][215]++;
  picasaWebViewer.scaleSize = (function (dimensions) {
  _$jscoverage['jquery.picasawebviewer.js'][216]++;
  var ratio = dimensions.currentHeight / dimensions.currentWidth;
  _$jscoverage['jquery.picasawebviewer.js'][218]++;
  if (dimensions.currentWidth >= dimensions.maximumWidth) {
    _$jscoverage['jquery.picasawebviewer.js'][219]++;
    dimensions.currentWidth = dimensions.maximumWidth;
    _$jscoverage['jquery.picasawebviewer.js'][220]++;
    dimensions.currentHeight = dimensions.currentWidth * ratio;
  }
  else {
    _$jscoverage['jquery.picasawebviewer.js'][221]++;
    if (dimensions.currentHeight >= dimensions.maximumHeight) {
      _$jscoverage['jquery.picasawebviewer.js'][222]++;
      dimensions.currentHeight = dimensions.maximumHeight;
      _$jscoverage['jquery.picasawebviewer.js'][223]++;
      dimensions.currentWidth = dimensions.currentHeight / ratio;
    }
  }
  _$jscoverage['jquery.picasawebviewer.js'][226]++;
  return ({width: Math.floor(dimensions.currentWidth), height: Math.floor(dimensions.currentHeight)});
});
  _$jscoverage['jquery.picasawebviewer.js'][232]++;
  picasaWebViewer.setJquery = (function (object) {
  _$jscoverage['jquery.picasawebviewer.js'][233]++;
  $ = object;
});
  _$jscoverage['jquery.picasawebviewer.js'][236]++;
  picasaWebViewer.setRepository = (function (object) {
  _$jscoverage['jquery.picasawebviewer.js'][237]++;
  repository = object;
});
  _$jscoverage['jquery.picasawebviewer.js'][240]++;
  picasaWebViewer.setPicasaWebViewer = (function (object) {
  _$jscoverage['jquery.picasawebviewer.js'][241]++;
  picasaWebViewer = object;
});
  _$jscoverage['jquery.picasawebviewer.js'][244]++;
  $.fn.picasaWebViewer = (function (options) {
  _$jscoverage['jquery.picasawebviewer.js'][245]++;
  repository = picasaWebViewer.repository;
  _$jscoverage['jquery.picasawebviewer.js'][246]++;
  return this.each((function () {
  _$jscoverage['jquery.picasawebviewer.js'][247]++;
  picasaWebViewer.overrideOptions(options);
  _$jscoverage['jquery.picasawebviewer.js'][248]++;
  picasaWebViewer.getAndDisplayAlbums(this);
}));
});
})(jQuery);
_$jscoverage['jquery.picasawebviewer.js'].source = ["","<span class=\"c\">/// &lt;reference path=\"jquery-1.3.2-vsdoc2.js\" /&gt;</span>","","<span class=\"c\">/*</span>","<span class=\"c\">* picasaWebViewer jQuery Plugin</span>","<span class=\"c\">* Copyright (c) 2010 Elijah Manor</span>","<span class=\"c\">* elijah.manor@gmail.com | http://elijahmanor.com</span>","<span class=\"c\">* Dual licensed under MIT and GPL.</span>","<span class=\"c\">* Updated: 01/09/09</span>","<span class=\"c\">* @author Elijah Manor</span>","<span class=\"c\">* @version 0.1</span>","<span class=\"c\">*/</span>","","<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>$<span class=\"k\">)</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> tabs<span class=\"k\">,</span> gallery<span class=\"k\">,</span> repository<span class=\"k\">,</span>","    \tpicasaWebViewer <span class=\"k\">=</span> $<span class=\"k\">.</span>picasaWebViewer <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    ","    picasaWebViewer<span class=\"k\">.</span>defaultOptions <span class=\"k\">=</span> <span class=\"k\">{</span>","        urlFormat <span class=\"k\">:</span> <span class=\"s\">\"http://picasaweb.google.com/data/feed/api/user/{0}?alt=json-in-script\"</span><span class=\"k\">,</span>","        albumTitleMaxLength <span class=\"k\">:</span> <span class=\"s\">15</span><span class=\"k\">,</span>","        defaultDialogWidth <span class=\"k\">:</span> <span class=\"s\">600</span><span class=\"k\">,</span>","        defaultDialogHeight <span class=\"k\">:</span> <span class=\"s\">400</span><span class=\"k\">,</span>","        userName <span class=\"k\">:</span> <span class=\"k\">null</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","        ","    picasaWebViewer<span class=\"k\">.</span>options <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    ","    picasaWebViewer<span class=\"k\">.</span>overrideOptions <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>options<span class=\"k\">)</span> <span class=\"k\">{</span>","        picasaWebViewer<span class=\"k\">.</span>options <span class=\"k\">=</span> $<span class=\"k\">.</span>extend<span class=\"k\">(</span><span class=\"k\">{}</span><span class=\"k\">,</span>picasaWebViewer<span class=\"k\">.</span>defaultOptions<span class=\"k\">,</span> options<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    picasaWebViewer<span class=\"k\">.</span>repository <span class=\"k\">=</span> <span class=\"k\">{</span>","\t\tgetAlbums <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>callback<span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t    console<span class=\"k\">.</span>group<span class=\"k\">(</span><span class=\"s\">'getAlbums'</span><span class=\"k\">);</span>","\t\t","\t\t    <span class=\"k\">var</span> updatedUrl <span class=\"k\">=</span> picasaWebViewer<span class=\"k\">.</span>options<span class=\"k\">.</span>urlFormat<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">\"{0}\"</span><span class=\"k\">,</span> picasaWebViewer<span class=\"k\">.</span>options<span class=\"k\">.</span>userName<span class=\"k\">);</span>","\t\t    $<span class=\"k\">.</span>ajax<span class=\"k\">(</span><span class=\"k\">{</span> ","\t\t        url<span class=\"k\">:</span> updatedUrl<span class=\"k\">,</span>","\t\t        success<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>data<span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t            callback<span class=\"k\">(</span>data<span class=\"k\">.</span>feed<span class=\"k\">.</span>entry<span class=\"k\">);</span> ","\t\t        <span class=\"k\">}</span><span class=\"k\">,</span>","\t\t        dataType<span class=\"k\">:</span> <span class=\"s\">'jsonp'</span>","\t\t    <span class=\"k\">}</span><span class=\"k\">);</span>","\t\t    ","\t\t    console<span class=\"k\">.</span>groupEnd<span class=\"k\">(</span><span class=\"s\">'getAlbums'</span><span class=\"k\">);</span>","\t\t<span class=\"k\">}</span><span class=\"k\">,</span>","\t\tgetPhotos <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>url<span class=\"k\">,</span> callback<span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t    console<span class=\"k\">.</span>group<span class=\"k\">(</span><span class=\"s\">'getPhotos'</span><span class=\"k\">);</span>","\t\t    $<span class=\"k\">.</span>ajax<span class=\"k\">(</span><span class=\"k\">{</span> ","\t\t        url<span class=\"k\">:</span> url<span class=\"k\">,</span>","\t\t        success<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>data<span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t            callback<span class=\"k\">(</span>data<span class=\"k\">.</span>feed<span class=\"k\">.</span>entry<span class=\"k\">);</span>","\t\t        <span class=\"k\">}</span><span class=\"k\">,</span>","\t\t        dataType<span class=\"k\">:</span> <span class=\"s\">'jsonp'</span>","\t\t    <span class=\"k\">}</span><span class=\"k\">);</span>","\t\t    console<span class=\"k\">.</span>groupEnd<span class=\"k\">(</span><span class=\"s\">'getPhotos'</span><span class=\"k\">);</span>            ","\t\t<span class=\"k\">}</span>\t\t    \t","    <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    picasaWebViewer<span class=\"k\">.</span>scaffoldGallery <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>element<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> html <span class=\"k\">=</span> ","            <span class=\"s\">\"&lt;div class='demo ui-widget ui-helper-clearfix'&gt;\"</span> <span class=\"k\">+</span>                ","                <span class=\"s\">\"&lt;div id='tabs'&gt;\"</span> <span class=\"k\">+</span> ","                    <span class=\"s\">\"&lt;ul&gt;\"</span> <span class=\"k\">+</span> ","                        <span class=\"s\">\"&lt;li&gt;&lt;a href='#tabs-0'&gt;Albums&lt;/a&gt;&lt;/li&gt;\"</span> <span class=\"k\">+</span> ","                    <span class=\"s\">\"&lt;/ul&gt;\"</span> <span class=\"k\">+</span> ","                    <span class=\"s\">\"&lt;div id='tabs-0'&gt;\"</span> <span class=\"k\">+</span> ","                        <span class=\"s\">\"&lt;ul id='gallery' class='gallery ui-helper-reset ui-helper-clearfix' /&gt;\"</span> <span class=\"k\">+</span> ","                    <span class=\"s\">\"&lt;/div&gt;\"</span> <span class=\"k\">+</span> ","                <span class=\"s\">\"&lt;/div&gt;\"</span> <span class=\"k\">+</span>                                                                   ","            <span class=\"s\">\"&lt;/div&gt;\"</span><span class=\"k\">;</span>","                                          ","        tabs <span class=\"k\">=</span> $<span class=\"k\">(</span>html<span class=\"k\">).</span>appendTo<span class=\"k\">(</span>element<span class=\"k\">).</span>find<span class=\"k\">(</span><span class=\"s\">'#tabs'</span><span class=\"k\">).</span>tabs<span class=\"k\">(</span><span class=\"k\">{</span>","            add<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>e<span class=\"k\">,</span> ui<span class=\"k\">)</span> <span class=\"k\">{</span>","                $<span class=\"k\">(</span>ui<span class=\"k\">.</span>tab<span class=\"k\">).</span>parents<span class=\"k\">(</span><span class=\"s\">'li:first'</span><span class=\"k\">)</span>","                    <span class=\"k\">.</span>append<span class=\"k\">(</span><span class=\"s\">\"&lt;span style='float: right;' class='ui-icon ui-icon-close' title='Close Tab'&gt;&lt;/span&gt;\"</span><span class=\"k\">)</span>","                    <span class=\"k\">.</span>find<span class=\"k\">(</span><span class=\"s\">'.ui-icon-close'</span><span class=\"k\">)</span>","                    <span class=\"k\">.</span>click<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","                        tabs<span class=\"k\">.</span>tabs<span class=\"k\">(</span><span class=\"s\">'remove'</span><span class=\"k\">,</span> $<span class=\"k\">(</span><span class=\"s\">'li'</span><span class=\"k\">,</span> tabs<span class=\"k\">).</span>index<span class=\"k\">(</span>$<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">).</span>parents<span class=\"k\">(</span><span class=\"s\">'li:first'</span><span class=\"k\">)[</span><span class=\"s\">0</span><span class=\"k\">]));</span>","                    <span class=\"k\">}</span><span class=\"k\">);</span>","                    tabs<span class=\"k\">.</span>tabs<span class=\"k\">(</span><span class=\"s\">'select'</span><span class=\"k\">,</span> <span class=\"s\">'#'</span> <span class=\"k\">+</span> ui<span class=\"k\">.</span>panel<span class=\"k\">.</span>id<span class=\"k\">);</span>","                <span class=\"k\">}</span>             ","            <span class=\"k\">}</span>            \t","        <span class=\"k\">);</span>","        gallery <span class=\"k\">=</span> $<span class=\"k\">(</span><span class=\"s\">'#gallery'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    picasaWebViewer<span class=\"k\">.</span>getAndDisplayAlbums <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>element<span class=\"k\">)</span> <span class=\"k\">{</span>","        console<span class=\"k\">.</span>group<span class=\"k\">(</span><span class=\"s\">'getAndDsiplayAlbums'</span><span class=\"k\">);</span>","        picasaWebViewer<span class=\"k\">.</span>scaffoldGallery<span class=\"k\">(</span>element<span class=\"k\">);</span>","        repository<span class=\"k\">.</span>getAlbums<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>albums<span class=\"k\">)</span> <span class=\"k\">{</span>            ","            <span class=\"k\">if</span> <span class=\"k\">(</span>albums<span class=\"k\">)</span> <span class=\"k\">{</span>","            \tpicasaWebViewer<span class=\"k\">.</span>displayAlbums<span class=\"k\">(</span>albums<span class=\"k\">);</span>","            <span class=\"k\">}</span> ","        <span class=\"k\">}</span><span class=\"k\">);</span>","        console<span class=\"k\">.</span>groupEnd<span class=\"k\">(</span><span class=\"s\">'getAndDsiplayAlbums'</span><span class=\"k\">);</span>    \t\t","    <span class=\"k\">}</span><span class=\"k\">;</span> ","    ","    picasaWebViewer<span class=\"k\">.</span>truncateTitle <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>title<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> picasaWebViewer<span class=\"k\">.</span>truncate<span class=\"k\">(</span>title<span class=\"k\">,</span> picasaWebViewer<span class=\"k\">.</span>options<span class=\"k\">.</span>albumTitleMaxLength<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    picasaWebViewer<span class=\"k\">.</span>truncate <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>source<span class=\"k\">,</span> maximumLength<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>source <span class=\"k\">&amp;&amp;</span> source<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> maximumLength<span class=\"k\">)</span> <span class=\"k\">{</span>","            source <span class=\"k\">=</span> source<span class=\"k\">.</span>substring<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> maximumLength <span class=\"k\">-</span> <span class=\"s\">3</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">\"...\"</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> source<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    picasaWebViewer<span class=\"k\">.</span>displayAlbum <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>album<span class=\"k\">)</span> <span class=\"k\">{</span>","        console<span class=\"k\">.</span>group<span class=\"k\">(</span><span class=\"s\">'displayAlbum'</span><span class=\"k\">);</span>","        ","        <span class=\"k\">var</span> title <span class=\"k\">=</span> picasaWebViewer<span class=\"k\">.</span>truncateTitle<span class=\"k\">(</span>album<span class=\"k\">.</span>title<span class=\"k\">.</span>$t<span class=\"k\">);</span>","        <span class=\"k\">var</span> html <span class=\"k\">=</span> ","            <span class=\"s\">\"&lt;li class='ui-widget-content ui-corner-tr'&gt;\"</span> <span class=\"k\">+</span>","                <span class=\"s\">\"&lt;h5 class='ui-widget-header'&gt;\"</span> <span class=\"k\">+</span> title <span class=\"k\">+</span> <span class=\"s\">\"&lt;/h5&gt;\"</span> <span class=\"k\">+</span>","                <span class=\"s\">\"&lt;a&gt;&lt;img src='\"</span> <span class=\"k\">+</span> album<span class=\"k\">.</span>media$group<span class=\"k\">.</span>media$thumbnail<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>url <span class=\"k\">+</span> <span class=\"s\">\"' alt='\"</span> <span class=\"k\">+</span> album<span class=\"k\">.</span>title<span class=\"k\">.</span>$t <span class=\"k\">+</span> <span class=\"s\">\"' /&gt;&lt;/a&gt;\"</span> <span class=\"k\">+</span>          ","            <span class=\"s\">\"&lt;/li&gt;\"</span><span class=\"k\">;</span> ","                    ","        $<span class=\"k\">(</span>html<span class=\"k\">)</span>","            <span class=\"k\">.</span>appendTo<span class=\"k\">(</span>gallery<span class=\"k\">)</span>","            <span class=\"k\">.</span>find<span class=\"k\">(</span><span class=\"s\">\"a\"</span><span class=\"k\">).</span>attr<span class=\"k\">(</span><span class=\"s\">'href'</span><span class=\"k\">,</span> album<span class=\"k\">.</span>link<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>href<span class=\"k\">)</span>","            <span class=\"k\">.</span>click<span class=\"k\">(</span>$<span class=\"k\">.</span>picasaWebViewer<span class=\"k\">.</span>clickAlbum<span class=\"k\">);</span>              ","        console<span class=\"k\">.</span>groupEnd<span class=\"k\">(</span><span class=\"s\">'displayAlbum'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    picasaWebViewer<span class=\"k\">.</span>clickAlbum <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","        console<span class=\"k\">.</span>group<span class=\"k\">(</span><span class=\"s\">'clickAlbum'</span><span class=\"k\">);</span>","","        <span class=\"k\">var</span> newTabIndex <span class=\"k\">=</span> tabs<span class=\"k\">.</span>tabs<span class=\"k\">(</span><span class=\"s\">\"length\"</span><span class=\"k\">);</span>","        tabs<span class=\"k\">.</span>tabs<span class=\"k\">(</span><span class=\"s\">\"add\"</span> <span class=\"k\">,</span> <span class=\"s\">\"#tabs-\"</span> <span class=\"k\">+</span> newTabIndex<span class=\"k\">,</span> $<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">).</span>find<span class=\"k\">(</span><span class=\"s\">\"img\"</span><span class=\"k\">).</span>attr<span class=\"k\">(</span><span class=\"s\">\"alt\"</span><span class=\"k\">),</span> newTabIndex<span class=\"k\">);</span>     ","        <span class=\"k\">var</span> newTab <span class=\"k\">=</span> $<span class=\"k\">(</span><span class=\"s\">\"#tabs-\"</span><span class=\"k\">+</span> newTabIndex<span class=\"k\">);</span>","        <span class=\"c\">//tabs.tabs(\"select\", newTabIndex);</span>","        picasaWebViewer<span class=\"k\">.</span>getAndDisplayPhotos<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>href<span class=\"k\">,</span> newTab<span class=\"k\">);</span>           ","","        console<span class=\"k\">.</span>groupEnd<span class=\"k\">(</span><span class=\"s\">'clickAlbum'</span><span class=\"k\">);</span>            ","        <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>                        ","    <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    picasaWebViewer<span class=\"k\">.</span>displayAlbums <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>albums<span class=\"k\">)</span> <span class=\"k\">{</span>","        console<span class=\"k\">.</span>group<span class=\"k\">(</span><span class=\"s\">'displayAlbums'</span><span class=\"k\">);</span>","        $<span class=\"k\">.</span>each<span class=\"k\">(</span>albums<span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            picasaWebViewer<span class=\"k\">.</span>displayAlbum<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        console<span class=\"k\">.</span>groupEnd<span class=\"k\">(</span><span class=\"s\">'displayAlbums'</span><span class=\"k\">);</span> ","    <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    picasaWebViewer<span class=\"k\">.</span>getAndDisplayPhotos <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>url<span class=\"k\">,</span> tab<span class=\"k\">)</span> <span class=\"k\">{</span>","        console<span class=\"k\">.</span>group<span class=\"k\">(</span><span class=\"s\">'getAndDisplayPhotos'</span><span class=\"k\">);</span>","        <span class=\"k\">var</span> photoGalleryId <span class=\"k\">=</span> <span class=\"s\">\"photos-\"</span> <span class=\"k\">+</span> tab<span class=\"k\">.</span>attr<span class=\"k\">(</span><span class=\"s\">\"id\"</span><span class=\"k\">);</span>","        <span class=\"k\">var</span> photoGallery <span class=\"k\">=</span> $<span class=\"k\">(</span><span class=\"s\">\"&lt;ul id='\"</span> <span class=\"k\">+</span> photoGalleryId <span class=\"k\">+</span> <span class=\"s\">\"' class='gallery ui-helper-reset ui-helper-clearfix' /&gt;\"</span><span class=\"k\">).</span>appendTo<span class=\"k\">(</span>tab<span class=\"k\">);</span>","        repository<span class=\"k\">.</span>getPhotos<span class=\"k\">(</span>url<span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>photos<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>photos<span class=\"k\">)</span> <span class=\"k\">{</span>","                picasaWebViewer<span class=\"k\">.</span>displayPhotos<span class=\"k\">(</span>photos<span class=\"k\">,</span>  photoGallery<span class=\"k\">);</span>","            <span class=\"k\">}</span>            ","        <span class=\"k\">}</span><span class=\"k\">);</span>","        console<span class=\"k\">.</span>groupEnd<span class=\"k\">(</span><span class=\"s\">'getAndDisplayPhotos'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>        ","        \t","    picasaWebViewer<span class=\"k\">.</span>displayPhotos <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>photos<span class=\"k\">,</span> tabGallery<span class=\"k\">)</span> <span class=\"k\">{</span>","        console<span class=\"k\">.</span>group<span class=\"k\">(</span><span class=\"s\">'displayPhotos'</span><span class=\"k\">);</span>","        $<span class=\"k\">.</span>each<span class=\"k\">(</span>photos<span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            picasaWebViewer<span class=\"k\">.</span>displayPhoto<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> tabGallery<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        console<span class=\"k\">.</span>groupEnd<span class=\"k\">(</span><span class=\"s\">'displayPhotos'</span><span class=\"k\">);</span>               ","    <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    picasaWebViewer<span class=\"k\">.</span>displayPhoto <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>photo<span class=\"k\">,</span> tabGallery<span class=\"k\">)</span> <span class=\"k\">{</span>","        console<span class=\"k\">.</span>group<span class=\"k\">(</span><span class=\"s\">'displayPhoto'</span><span class=\"k\">);</span>","        <span class=\"k\">var</span> group <span class=\"k\">=</span> photo<span class=\"k\">.</span>media$group<span class=\"k\">;</span>","","        <span class=\"k\">var</span> title <span class=\"k\">=</span> picasaWebViewer<span class=\"k\">.</span>truncateTitle<span class=\"k\">(</span>group<span class=\"k\">.</span>media$title<span class=\"k\">.</span>$t<span class=\"k\">);</span>","        <span class=\"k\">var</span> html <span class=\"k\">=</span> ","            <span class=\"s\">\"&lt;li class='ui-widget-content ui-corner-tr'&gt;\"</span> <span class=\"k\">+</span>","                <span class=\"s\">\"&lt;h5 class='ui-widget-header'&gt;\"</span> <span class=\"k\">+</span> title <span class=\"k\">+</span> <span class=\"s\">\"&lt;/h5&gt;\"</span> <span class=\"k\">+</span>","                <span class=\"s\">\"&lt;img src='\"</span> <span class=\"k\">+</span> group<span class=\"k\">.</span>media$thumbnail<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>url <span class=\"k\">+</span> <span class=\"s\">\"' alt='\"</span> <span class=\"k\">+</span> group<span class=\"k\">.</span>media$title<span class=\"k\">.</span>$t <span class=\"k\">+</span> <span class=\"s\">\"' /&gt;\"</span> <span class=\"k\">+</span>","            <span class=\"s\">\"&lt;/li&gt;\"</span><span class=\"k\">;</span> ","","        $<span class=\"k\">(</span>html<span class=\"k\">)</span>","            <span class=\"k\">.</span>data<span class=\"k\">(</span><span class=\"s\">\"metadata\"</span><span class=\"k\">,</span> <span class=\"k\">{</span>","                url <span class=\"k\">:</span> photo<span class=\"k\">.</span>content<span class=\"k\">.</span>src<span class=\"k\">,</span>","                width <span class=\"k\">:</span> photo<span class=\"k\">.</span>gphoto$width<span class=\"k\">.</span>$t<span class=\"k\">,</span>            \t\t            \t\t","                height <span class=\"k\">:</span> photo<span class=\"k\">.</span>gphoto$height<span class=\"k\">.</span>$t<span class=\"k\">,</span>","                title <span class=\"k\">:</span> group<span class=\"k\">.</span>media$title<span class=\"k\">.</span>$t","            <span class=\"k\">}</span><span class=\"k\">)</span>","            <span class=\"k\">.</span>appendTo<span class=\"k\">(</span>tabGallery<span class=\"k\">)</span>","            <span class=\"k\">.</span>click<span class=\"k\">(</span>$<span class=\"k\">.</span>picasaWebViewer<span class=\"k\">.</span>clickPhoto<span class=\"k\">);</span>","        console<span class=\"k\">.</span>groupEnd<span class=\"k\">(</span><span class=\"s\">'displayPhoto'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    picasaWebViewer<span class=\"k\">.</span>clickPhoto <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> metadata <span class=\"k\">=</span> $<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">).</span>closest<span class=\"k\">(</span><span class=\"s\">'li'</span><span class=\"k\">).</span>data<span class=\"k\">(</span><span class=\"s\">'metadata'</span><span class=\"k\">)</span>","        <span class=\"k\">var</span> scaledSize <span class=\"k\">=</span> picasaWebViewer<span class=\"k\">.</span>scaleSize<span class=\"k\">(</span><span class=\"k\">{</span>","        \tmaximumWidth <span class=\"k\">:</span> $<span class=\"k\">.</span>picasaWebViewer<span class=\"k\">.</span>options<span class=\"k\">.</span>defaultDialogWidth<span class=\"k\">,</span> ","        \tmaximumHeight <span class=\"k\">:</span> $<span class=\"k\">.</span>picasaWebViewer<span class=\"k\">.</span>options<span class=\"k\">.</span>defaultDialogHeight<span class=\"k\">,</span> ","        \tcurrentWidth <span class=\"k\">:</span> metadata<span class=\"k\">.</span>width<span class=\"k\">,</span> ","        \tcurrentHeight <span class=\"k\">:</span> metadata<span class=\"k\">.</span>height","    \t<span class=\"k\">}</span><span class=\"k\">);</span>","        $<span class=\"k\">(</span><span class=\"s\">'&lt;img /&gt;'</span><span class=\"k\">).</span>attr<span class=\"k\">(</span><span class=\"k\">{</span>","            <span class=\"s\">'src'</span> <span class=\"k\">:</span> metadata<span class=\"k\">.</span>url<span class=\"k\">,</span>","            <span class=\"s\">'width'</span> <span class=\"k\">:</span> scaledSize<span class=\"k\">.</span>width<span class=\"k\">,</span>","            <span class=\"s\">'height'</span> <span class=\"k\">:</span> scaledSize<span class=\"k\">.</span>height","        <span class=\"k\">}</span><span class=\"k\">).</span>dialog<span class=\"k\">(</span><span class=\"k\">{</span>","            bgiframe<span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>","            autoOpen<span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","            width<span class=\"k\">:</span> scaledSize<span class=\"k\">.</span>width<span class=\"k\">,</span> ","            height<span class=\"k\">:</span> scaledSize<span class=\"k\">.</span>height <span class=\"k\">+</span> <span class=\"s\">20</span><span class=\"k\">,</span> ","            modal<span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>","            title<span class=\"k\">:</span> metadata<span class=\"k\">.</span>title","        <span class=\"k\">}</span><span class=\"k\">).</span>dialog<span class=\"k\">(</span><span class=\"s\">'open'</span><span class=\"k\">);</span>","        ","        <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    picasaWebViewer<span class=\"k\">.</span>scaleSize <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>dimensions<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> ratio <span class=\"k\">=</span> dimensions<span class=\"k\">.</span>currentHeight <span class=\"k\">/</span> dimensions<span class=\"k\">.</span>currentWidth<span class=\"k\">;</span>","        ","        <span class=\"k\">if</span> <span class=\"k\">(</span>dimensions<span class=\"k\">.</span>currentWidth <span class=\"k\">&gt;=</span> dimensions<span class=\"k\">.</span>maximumWidth<span class=\"k\">)</span> <span class=\"k\">{</span>","            dimensions<span class=\"k\">.</span>currentWidth <span class=\"k\">=</span> dimensions<span class=\"k\">.</span>maximumWidth<span class=\"k\">;</span>","            dimensions<span class=\"k\">.</span>currentHeight <span class=\"k\">=</span> dimensions<span class=\"k\">.</span>currentWidth <span class=\"k\">*</span> ratio<span class=\"k\">;</span>","        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>dimensions<span class=\"k\">.</span>currentHeight <span class=\"k\">&gt;=</span> dimensions<span class=\"k\">.</span>maximumHeight<span class=\"k\">)</span> <span class=\"k\">{</span>","            dimensions<span class=\"k\">.</span>currentHeight <span class=\"k\">=</span> dimensions<span class=\"k\">.</span>maximumHeight<span class=\"k\">;</span>","            dimensions<span class=\"k\">.</span>currentWidth <span class=\"k\">=</span> dimensions<span class=\"k\">.</span>currentHeight <span class=\"k\">/</span> ratio<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        ","        <span class=\"k\">return</span> <span class=\"k\">{</span>","            width <span class=\"k\">:</span> Math<span class=\"k\">.</span>floor<span class=\"k\">(</span>dimensions<span class=\"k\">.</span>currentWidth<span class=\"k\">),</span>","            height <span class=\"k\">:</span> Math<span class=\"k\">.</span>floor<span class=\"k\">(</span>dimensions<span class=\"k\">.</span>currentHeight<span class=\"k\">)</span>\t\t    ","        <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    picasaWebViewer<span class=\"k\">.</span>setJquery <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>object<span class=\"k\">)</span> <span class=\"k\">{</span>","    \t$ <span class=\"k\">=</span> object<span class=\"k\">;</span>\t","    <span class=\"k\">}</span><span class=\"k\">;</span>","      ","    picasaWebViewer<span class=\"k\">.</span>setRepository <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>object<span class=\"k\">)</span> <span class=\"k\">{</span>","    \trepository <span class=\"k\">=</span> object<span class=\"k\">;</span>\t","    <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    picasaWebViewer<span class=\"k\">.</span>setPicasaWebViewer <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>object<span class=\"k\">)</span> <span class=\"k\">{</span>","    \tpicasaWebViewer <span class=\"k\">=</span> object<span class=\"k\">;</span>\t","    <span class=\"k\">}</span><span class=\"k\">;</span>","        ","    $<span class=\"k\">.</span>fn<span class=\"k\">.</span>picasaWebViewer <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","    \trepository <span class=\"k\">=</span> picasaWebViewer<span class=\"k\">.</span>repository<span class=\"k\">;</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>each<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>            ","            picasaWebViewer<span class=\"k\">.</span>overrideOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>            ","            picasaWebViewer<span class=\"k\">.</span>getAndDisplayAlbums<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>    ","<span class=\"k\">}</span><span class=\"k\">)(</span>jQuery<span class=\"k\">);</span>"];
